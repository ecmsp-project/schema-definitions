syntax = "proto3";

package product.v1.reservation.v1;

option java_multiple_files = true;
option java_package = "com.ecmsp.product.v1.reservation.v1";
option java_outer_classname = "VariantReservationProto";

// -----------------------------------------------

message CreateVariantsReservationRequest {
  string order_id = 1;
  repeated ReservedVariant items = 2;
}

message CreateVariantsReservationResponse {
  repeated string reserved_variant_ids = 3;
  repeated FailedReservationVariant failed_variants = 4;
}

// Message indicates the number of missing items
message FailedReservationVariant {
  string variant_id = 1;
  int32 requested_quantity = 2;
  int32 available_quantity = 3;
}

// -----------------------------------------------

message RemoveVariantsReservationRequest {
  string order_id = 1;
}

message RemoveVariantsReservationResponse {
  string message = 1;
}

// -----------------------------------------------

message GetVariantsReservationRequest {
  string order_id = 1;
}

message GetVariantsReservationResponse {
	repeated ReservedVariant items = 1;
}

// -----------------------------------------------

message ReservedVariant {
  string variant_id = 1;
  int32 quantity = 2;
}
